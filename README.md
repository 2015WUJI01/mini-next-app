# 题库系统设计文档

## 1. 系统概述

题库系统旨在提供一个便捷的刷题平台，帮助用户高效地练习和掌握各类题目。系统包含题目管理、刷题模式、进度跟踪等功能，为用户提供完整的学习体验。

## 2. 页面模块设计

### 2.1 首页 (Home Page)

首页作为系统的入口，提供以下功能：

- **导航栏**：包含系统名称、用户信息、设置等
- **题目分类展示**：按照不同类别展示题目集合（如算法、数据结构、前端、后端等）
- **刷题统计**：展示用户的刷题进度、正确率、连续打卡天数等数据
- **快捷入口**：
  - 进入题目列表页按钮
  - 进入刷题模式按钮（可选择随机模式、难度模式、专题模式等）
  - 继续上次学习按钮
- **最近做题记录**：展示用户最近做过的题目和状态

### 2.2 题目列表页 (Problem List Page)

提供所有题目的结构化展示：

- **筛选功能**：按难度、类型、标签、完成状态等筛选题目
- **搜索功能**：支持题目名称、编号、关键词搜索
- **排序选项**：按难度、热度、完成率等排序
- **题目卡片**：每个题目以卡片形式展示，包含题目编号、名称、难度、通过率、标签等信息
- **收藏功能**：允许用户收藏重要题目
- **进度标记**：已完成题目的视觉标记

### 2.3 刷题页面 (Quiz Page)

用户进行做题的核心页面：

- **题目内容区**：展示当前题目的详细描述、示例、限制条件等
- **代码编辑器**：支持多种编程语言的代码编写，包含语法高亮、自动补全等功能
- **操作区**：
  - 提交按钮
  - 运行测试按钮
  - 查看题解按钮
  - 收藏按钮
  - 切换上/下一题按钮
- **结果展示区**：展示代码运行结果、错误信息、执行时间、内存占用等
- **讨论区**：查看和参与题目相关讨论

### 2.4 刷题模式页面 (Study Mode Page)

为集中练习设计的特殊模式：

- **模式选择**：
  - 随机模式：随机抽取题目
  - 难度模式：按难度递增练习
  - 专题模式：针对特定知识点练习
  - 竞赛模式：模拟比赛环境，限时做题
- **计时器**：显示当前做题时间或剩余时间
- **进度指示器**：显示当前模式下的完成进度
- **专注模式**：简化界面，减少干扰
- **成绩统计**：模式结束后展示做题情况统计

### 2.5 个人中心页面 (Profile Page)

用户个人信息和学习数据管理：

- **用户基本信息**：头像、昵称、等级等
- **学习统计**：累计做题数、正确率、擅长领域分析等
- **学习日历**：可视化展示用户的学习频率和习惯
- **收藏题目**：管理已收藏的题目
- **错题本**：整理和复习做错的题目
- **学习计划**：制定和跟踪学习目标

## 3. 数据模型设计

### 3.1 题目 (Problem)
```typescript
interface Problem {
  id: string;          // 唯一标识
  title: string;       // 题目标题
  content: string;     // 题目内容
  difficulty: 'easy' | 'medium' | 'hard';  // 难度级别
  tags: string[];      // 标签列表
  examples: Example[]; // 示例
  constraints: string; // 约束条件
  solutions: Solution[]; // 题解
  relatedProblems: string[]; // 相关题目ID
  acceptance: number;  // 通过率
  frequency: number;   // 出现频率
}
```

### 3.2 用户 (User)
```typescript
interface User {
  id: string;          // 用户ID
  username: string;    // 用户名
  progress: {          // 学习进度
    completed: string[]; // 已完成题目ID
    favorites: string[]; // 收藏题目ID
    incorrect: string[]; // 错误题目ID
  };
  statistics: {        // 用户统计
    totalSolved: number; // 总解题数
    streakDays: number;  // 连续刷题天数
    correctRate: number; // 正确率
  };
  settings: UserSettings; // 用户设置
}
```

### 3.3 提交记录 (Submission)
```typescript
interface Submission {
  id: string;          // 提交ID
  userId: string;      // 用户ID
  problemId: string;   // 题目ID
  code: string;        // 提交代码
  language: string;    // 编程语言
  status: 'accepted' | 'wrong' | 'timeout' | 'error'; // 提交状态
  runtime: number;     // 运行时间
  memory: number;      // 内存占用
  timestamp: Date;     // 提交时间
}
```

## 4. 技术选型

- **前端框架**：Next.js (React)
- **UI组件库**：可使用Shadcn UI、Material UI、Ant Design等
- **状态管理**：React Context API或Redux
- **代码编辑器**：Monaco Editor (VS Code的编辑器)
- **数据存储**：
  - 本地版本可使用LocalStorage/IndexedDB
  - 服务器版本可使用MongoDB/PostgreSQL
- **认证**：NextAuth.js或自定义认证系统

## 5. 未来扩展计划

- **用户社区**：添加讨论区、题解分享功能
- **竞赛系统**：支持在线竞赛和排名
- **智能推荐**：基于用户解题情况推荐适合的题目
- **学习路径**：设计针对不同目标的学习路径
- **移动应用**：开发移动端版本，支持随时随地学习
- **多语言支持**：提供多语言界面和题目内容

## 6. 开发计划

### 第一阶段：核心功能
- 实现首页和基础导航
- 实现题目列表页面和筛选功能
- 开发基础刷题页面

### 第二阶段：用户体验
- 完善刷题模式
- 添加个人中心和数据统计
- 优化UI/UX设计

### 第三阶段：高级功能
- 实现收藏和错题本功能
- 添加社区和讨论功能
- 开发竞赛模式
